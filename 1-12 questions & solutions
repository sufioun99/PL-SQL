
1. Create,compile and invoke the ADD_JOB procedure and review the results.

CREATE OR REPLACE PROCEDURE add_jobs( p_jobid jobs.job_id%type, p_jobtitle jobs.job_title%type) IS 
BEGIN 
  INSERT INTO  jobs (job_id,job_title)
  VALUES (p_jobid, p_jobtitle);
  COMMIT;
END add_job;
/
EXCUTE add_job ('IT_DBA', 'Database Administrator')
SELECT * FROM jobs WHERE job_id = 'IT_DBA';
EXCUTE add_job ( 'ST_MAN' , Stock Manager')

2) Create a procedure called UPD_JOB to modify a job in the JOBS table.

CREATE OR REPLACE PROCEDURE upd_job( p_jobid IN jobs.job_id%type, p_jobtitle IN jobs.job_title%type) IS
BEGIN 
  UPDATE jobs 
  SET job_title = p_jobtitle;
  WHERE job_id = p_jobid;
  IF SQL%NOTFOUND THEN 
    RAISE_APPLICATION_ERROR(-20202,'No job updated.');
END IF;
END upd_job;
/

EXECUTE upd_job ('IT_DBA', 'Data Administration')
SELECT * FROM jobs WHERE job_id = 'IT_DBA';
EXECUTE upd_job ('IT_WEB', 'Web Master')
SELECT * FROM jobs WHERE job_id = 'IT_WEB';


3) Create a procedure called DEL_JOB to delete a job from the JOBS table.

CREATE OR REPLACE PROCEDURE del_job (p_jobid jobs.job_id%type) IS 
BEGIN 
  DELETE FROM jobs 
  WHERE job_id = p_jobid;
  IF SQL%NOTFOUND THEN 
    RAISE_APPLICATION_ERROR(-20203,'No job deleted.');
END IF;
END del_job;
/
EXECUTE del_job ('IT_DBA')
SELECT * FROM jobs WHERE job_id = 'IT_DBA';
EXECUTE del_job ('IT_WEB')


4) Create a procedure called GET_EMPLOYEE to query the EMPLOYEES table.

CREATE OR REPLACE PROCEDURE get_employee
(p_empid IN employees.employee_id%type, p_sal OUT employees.salary%type, p_job OUT employees.job_id%type) IS
BEGIN 
SELECT salary , job_id
INTO p_sal, p_job
FROM employees
WHERE employee_id = p_empid;
END get_employee;

varibable v_salary number 
variable v_sal varchar2(15)
execute get_employee(120, :v_salary,:v_job)
print v_salary v_job
execute get_employee(300, :v_salary,:v_job)
print v_salary v_job

5) Create a procedure called RAISE_SALARY to increase the employee salary.


6) Create a procedure called QUERY_EMP to query the employee last_name and salary from the EMPLOYEES table.

7) Create a procedure called ADD_DEPT for adding new department into DEPARTMENTS table.

8) Create and invoke the GET_SAL function with a single input parameter and to returns the salary of inputted employee.

9) Create and invoke the TAX function with a single input parameter and to returns the income tax based on simple flat tax rate for inputted salary.

10) Create and invoke the GET_JOB function to return a job title.

11 ) Create function called GET_ANNUAL_COMP to return the annual salary computed from employeeâ€™s monthly salary and commission passed as parameters.

12) Create a procedure ADD_EMPLOYEE to insert a new employee into the EMPLOYEES table. The procedure should call a VALID_DEPTID function to check whether the department_id for the new employee exists in the DEPARTMENTS table.

